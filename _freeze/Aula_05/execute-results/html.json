{
  "hash": "9ce4748f9c4ba4cdcc0304f4dee50015",
  "result": {
    "markdown": "---\ntitle: \"Gráficos em ggplot - parte 02\"\nformat: html\neditor: visual\nmessage: false\nwarning: false\n---\n\n\n# Aula 05 - 03/04/2024\n\n## Pacotes\n\nAntes de executar qualquer ação neste script, carregue os pacotes abaixo:\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-1_731f1435846e787e219304ff6a920f69'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gsheet)\nlibrary(readxl)\nlibrary(ggthemes)\n```\n:::\n\n\n## Importação dos dados\n\nTodos os dados usados neste programa devem vir de algum banco de dados. Para carregar conjunto de dados de planilhas na nuvem, utilizaremos o pacote gsheet. O conjunto de dados é importado de acordo com a formatação apresentada na planilha original. Após a importação, é interessante que se realize a sumarização destes dados, a fim de se observar rapidamente valores que serão analizados.\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-2_cc02ae2a614aa4c02543038f47a1ad22'}\n\n```{.r .cell-code}\npr <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=1092065531\")\n\npr$prova <- as.factor(pr$prova)\n\nsummary(pr)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n prova      pontos           nota       \n 1:22   Min.   : 6.00   Min.   : 42.90  \n 2:22   1st Qu.:10.00   1st Qu.: 68.75  \n        Median :12.50   Median : 85.70  \n        Mean   :11.91   Mean   : 79.40  \n        3rd Qu.:14.00   3rd Qu.:100.00  \n        Max.   :16.00   Max.   :100.00  \n```\n:::\n:::\n\n\n## Análise descritiva\n\nÉ a fase inicial deste processo de estudo dos dados coletados. Utilizamos métodos de Estatística Descritiva para organizar, resumir e descrever os aspectos importantes de um conjunto de características observadas ou comparar tais características entre dois ou mais conjuntos. Para que seja feita uma análise visual dos dados, é interessante que se calcule algumas métricas para observação. Para facilitar a visualização, basta agrupar o conjunto de acordo com os níveis do fator, e calcular alguns parâmetros, como média, mediana, desvio padrão e o somatório dos dados.\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-3_5fa51f80c6d6381836101efd9a50ed52'}\n\n```{.r .cell-code}\npr |> \n  group_by(prova) |> \n  summarise(media = mean(nota),\n            sd = sd(nota),\n            median = median(nota),\n            somatório = sum(nota))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 5\n  prova media    sd median somatório\n  <fct> <dbl> <dbl>  <dbl>     <dbl>\n1 1      79.5  19.0   85.7     1750 \n2 2      79.3  19.7   84.4     1744.\n```\n:::\n:::\n\n\nAtravés da tabela plotada acima, podemos observar que a média das notas obtidas de ambas as provas foram semelhantes, com valores na casa dos 79 pontos, com desvio padrão de 19 pontos. Já em relação à mediana, que é uma medida mais robusta, observa-se que os alunos tiveram um desempenho melhor na prova 01, representado por valores ligeiramente maiores que na prova 02. Esses valores são corroborados pelo valor encontrado no somatório de todas as notas em cada prova, sinalizando em torno de 7 pontos a mais na prova 01.\n\n## Histogramas\n\nUm histograma é uma espécie de gráfico de barras que demonstra uma distribuição de frequências. No histograma, a base de cada uma das barras representa uma classe e a altura representa a quantidade ou frequência absoluta com que o valor de cada classe ocorre.\n\nPara este conjunto de dados, é interessante que se use este modelo de gráfico para analisar a distribuição e frequência com que foram obtidas as notas pelos alunos, de acordo com cada prova.\n\nPara que se tenha uma visualização da média, basta adicionar uma linha, seguindo o comando abaixo:\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-4_109e82b49ce46c706fa8989ae8bed49d'}\n\n```{.r .cell-code}\npr |> \n  ggplot(aes(nota))+\n  geom_histogram(bins = 5)+\n  theme_clean()+\n  facet_wrap(~prova)+\n  geom_vline(xintercept = mean(pr$nota), linetype = \"dashed\", color = \"red\")\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nO visual de um gráfico pode chamar a atenção do leitor e facilitar o entendimento dos dados ali representados. Portanto, alterar as cores para diferenciar os tratamentos e organizar o texto no gráfico é de suma importância. Essa etapa fica a gosto do autor.\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-5_3ac00d781466ae89ed3f99d801238cff'}\n\n```{.r .cell-code}\n pr |> \n  ggplot(aes(nota))+\n  geom_histogram(bins = 5, color = \"black\", aes(fill = prova))+\n  facet_wrap(~prova, labeller = as_labeller(c(\"1\" = \"Prova 01\", \"2\" = \"Prova 02\")))+\n     geom_vline(xintercept = mean(pr$nota), linetype = \"dashed\", color = \"red\", sise = 1)+\n   annotate(geom = \"text\",\n            x = 72,\n            y = 7.5,\n            label = \"Mean\")+\n   labs(title = \"Histograma\",\n        x = \"Notas\",\n        y = \"Frequência\")+\n   theme_clean()+\n   theme(plot.title = element_text(hjust = 0.5))+\n   theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nAtravés do histograma acima, podemos observar que a distribuição assume a conformação de assimétrico à direita, em ambas as provas. As maiores frequências foram obtidas com notas de 90 a 100, com maior pico na prova 01. A média neste gráfico é representada pela linha tracejada vermelha.\n\nPara complementação, a seguir foram criados dois histogramas, contendo as frequências das provas 01 e 02 separadamente.\n\n#### Histograma Prova 01\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-6_ae4845f3a392ac1a387a1e617107f4fd'}\n\n```{.r .cell-code}\npr1 <- pr |> \n  filter(prova == \"1\") |>\n  ggplot(aes(nota))+\n  geom_histogram(bins = 5, color = \"black\", fill = \"cyan\")+\n  facet_wrap(~prova)+\n  geom_vline(xintercept = mean(pr$nota), linetype = \"dashed\", size = 0.75, color = \"red\")+\n  labs(title = \"Histograma 01\", \n       x = \"Notas\", \n       y = \"Frequência\")+\n  theme(plot.title = element_text(hjust = 0.5))+\n  theme_clean()+\n  annotate(geom = \"text\",\n           x = 79,\n           y = 7.5,\n           label = \"Mean\")\n\npr1\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n#### Histograma Prova 02\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-7_f81e2866942b3ee8264de77257fceb50'}\n\n```{.r .cell-code}\npr2 <- pr |> \n  filter(prova == \"2\") |>\n  ggplot(aes(nota))+\n  geom_histogram(bins = 5, color = \"black\", fill = \"cyan\")+\n  facet_wrap(~prova)+\n  geom_vline(xintercept = mean(pr$nota), linetype = \"dashed\", size = 0.75, color = \"red\")+\n  labs(title = \"Histograma 02\", \n       x = \"Notas\", \n       y = \"Frequência\")+\n  theme(plot.title = element_text(hjust = 0.5))+\n  theme_clean()+\n  annotate(geom = \"text\",\n           x = 79,\n           y = 7.5,\n           label = \"Mean\")\n  \n\npr2\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## BoxPlot\n\nO objetivo da construção desse gráfico é tornar mais nítida a visualização das estatísticas para fazer análises e/ou processamentos em relação a dispersão, assimetria, média, outliers (mínimos e máximos) e mediana. Em um gráfico do tipo boxplot é exibido o resumo dos 5 números, que são: mínimo, primeiro quartil, mediana, terceiro quartil e o máximo.\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-8_c1f58e8f328d48b174efc4b53f5ef854'}\n\n```{.r .cell-code}\nprovas <- pr |>\n  ggplot(aes(x = prova, y = nota))+\n  geom_boxplot(aes(fill = prova))+\n  geom_jitter()+\n  theme_clean()+\n  facet_wrap(~prova, scales = \"free_x\")+\n  labs(title = \"Distribuição\",\n       x = \"Prova\", y = \"Notas\")+\n  theme(plot.title = element_text(hjust = 0.5))\n\n#O comando \"free_x\" libera o fator \"X\" e omite tudo aquilo que está vazio no gráfico.\n\nprovas\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nAtravés do Boxplot é possível observar a distribuição de cada dado isolado, neste caso as notas, de acordo com cada prova realizada. Precebe-se que na prova 01 as notas foram mais dipersas, representadas pelo tamanho da \"caixa\". A linha central representa a madiana. Dentro da caixa, e abaixo da mediana está o 2° quartil, acima da linha, o 3° quartil. 50% dos dados estão contidos dentro do boxplot, e os outros 50% fora dele. As linhas indicam os valores máximos acima, e mínimos abaixo.\n\n## Errorbar\n\nBarras de erros nos gráficos podem ajudar a ver margens de erros e desvios padrão rapidamente. Elas podem ser exibidas em todos os pontos de dados ou marcadores de dados de uma série de dados como um valor de erro padrão, uma porcentagem ou um desvio padrão.\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-9_61e9f5cf9a6d9704769a64acbef19b9f'}\n\n```{.r .cell-code}\n pr |> group_by(prova) |>\n  summarise(nota_mean = mean(nota),\n            nota_sd = sd(nota)) |>\n  ggplot(aes(factor(prova), nota_mean, color = prova)) +\n  geom_point(size = 3) +\n  geom_errorbar(aes(ymin = nota_mean - nota_sd, \n                    ymax = nota_mean + nota_sd),\n                width = 0.1) +\n  theme_clean()+\n  theme(legend.position = \"none\" ) +\n   labs(title = \"Errobar\")+\n   theme(plot.title = element_text(hjust = 0.5))+\n  ylim(0,100) +\n  labs(x = \"Prova\",\n       y= \"Frequência\")\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n## Jitter Plot\n\nO Diagrama de Dispersão é usado para analisar a relação entre duas variáveis e em que intensidade a mudança de um dado impacta outro dado. Neste caso, podemos observar uma correlação nula, quando os pontos não seguem uma tendência positiva nem negativa.\n\n\n::: {.cell hash='Aula_05_cache/html/unnamed-chunk-10_36e651321a0b6447bacd238552fc7996'}\n\n```{.r .cell-code}\ndr <- pr |>\n  ggplot(aes(prova, nota))+\n  geom_jitter(width = 0.1,\n              color = \"gray20\")+\n  geom_hline(yintercept = mean(pr$nota),\n             linetype = \"dashed\",\n             color = 'red',\n             size = 0.75)+\n  theme_clean()+\n  labs(title = \"Dispersão\",\n       x = \"Prova\",\n       y = \"Notas\")+\n  theme(plot.title = element_text(hjust = 0.5))+\n  ylim(40,100)\n\ndr\n```\n\n::: {.cell-output-display}\n![](Aula_05_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nCom o gráfico plotado, podemos observar a linha que indica a média das duas provas, permitindo realizar a contagem de quem ficou acima ou abaixo da mesma.\\\n\nAutor: Klaus Henrique Ratunde\n\nTarefa: Análise de dados da sabatina.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}