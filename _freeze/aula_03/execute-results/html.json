{
  "hash": "0d5814dd2d246e6defba09f7333698c7",
  "result": {
    "markdown": "---\ntitle: \"Aula_03.qmd\"\nformat: html\neditor: visual\nmessage: false\nwarning: false\n---\n\n\n# Aula 03 - 20/03/2024\n\n# Pacotes\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-1_9588e748bb182ec596a8aee339efa32c'}\n\n```{.r .cell-code}\nlibrary(patchwork)\nlibrary(readxl)\nlibrary(tidyverse)\n```\n:::\n\n\n# Histograma e importação de arquivos .csv da internet\n\nUm histograma é uma espécie de gráfico de barras que demonstra uma distribuição de frequências. No histograma, a base de cada uma das barras representa uma classe e a altura representa a quantidade ou frequência absoluta com que o valor de cada classe ocorre.\n\n### Carregando planilhas da nuvem em formato .csv\n\nPara a criação desse gráfico, é importante que se tenha uma fonte confiável de dados, e que estes sejam de fácil acesso. Uma forma de importar esses dados é através de uma planilha no formato \".csv\" da nuvem, o que nos permite acessar de qualquer lugar.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-2_7c78b7fbf2357994d67a7c9672c3514a'}\n\n```{.r .cell-code}\n#Para remover as mensagens de erro, adicionar no cabeçalho as mensagens a seguir.\n#warning : false\n#message : false\n\ncr <- read_csv(\"https://raw.githubusercontent.com/emdelponte/paper-coffee-rust-Ethiopia/master/data/survey_clean.csv\")\ncr\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 405 × 13\n    farm region zone       district      lon   lat altitude cultivar shade    \n   <dbl> <chr>  <chr>      <chr>       <dbl> <dbl>    <dbl> <chr>    <chr>    \n 1     1 SNNPR  Bench Maji Debub Bench  35.4  6.90     1100 Local    Sun      \n 2     2 SNNPR  Bench Maji Debub Bench  35.4  6.90     1342 Mixture  Mid shade\n 3     3 SNNPR  Bench Maji Debub Bench  35.4  6.90     1434 Mixture  Mid shade\n 4     4 SNNPR  Bench Maji Debub Bench  35.4  6.90     1100 Local    Sun      \n 5     5 SNNPR  Bench Maji Debub Bench  35.4  6.90     1400 Local    Sun      \n 6     6 SNNPR  Bench Maji Debub Bench  35.4  6.90     1342 Mixture  Mid shade\n 7     7 SNNPR  Bench Maji Debub Bench  35.4  6.90     1432 Mixture  Mid shade\n 8     8 SNNPR  Bench Maji Debub Bench  35.4  6.90     1100 Local    Sun      \n 9     9 SNNPR  Bench Maji Debub Bench  35.4  6.89     1400 Local    Sun      \n10    10 SNNPR  Bench Maji Debub Bench  35.4  6.88     1342 Mixture  Mid shade\n# ℹ 395 more rows\n# ℹ 4 more variables: cropping_system <chr>, farm_management <chr>, inc <dbl>,\n#   sev2 <dbl>\n```\n:::\n\n```{.r .cell-code}\n#para carregar arquivos csv, devo carregar o pacote tidyverse e depois o comando read_csv\n\nglimpse(cr)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 405\nColumns: 13\n$ farm            <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,…\n$ region          <chr> \"SNNPR\", \"SNNPR\", \"SNNPR\", \"SNNPR\", \"SNNPR\", \"SNNPR\", …\n$ zone            <chr> \"Bench Maji\", \"Bench Maji\", \"Bench Maji\", \"Bench Maji\"…\n$ district        <chr> \"Debub Bench\", \"Debub Bench\", \"Debub Bench\", \"Debub Be…\n$ lon             <dbl> 35.44250, 35.44250, 35.42861, 35.42861, 35.42861, 35.3…\n$ lat             <dbl> 6.904722, 6.904722, 6.904444, 6.904444, 6.904444, 6.90…\n$ altitude        <dbl> 1100, 1342, 1434, 1100, 1400, 1342, 1432, 1100, 1400, …\n$ cultivar        <chr> \"Local\", \"Mixture\", \"Mixture\", \"Local\", \"Local\", \"Mixt…\n$ shade           <chr> \"Sun\", \"Mid shade\", \"Mid shade\", \"Sun\", \"Sun\", \"Mid sh…\n$ cropping_system <chr> \"Plantation\", \"Plantation\", \"Plantation\", \"Plantation\"…\n$ farm_management <chr> \"Unmanaged\", \"Minimal\", \"Minimal\", \"Unmanaged\", \"Unman…\n$ inc             <dbl> 86.70805, 51.34354, 43.20000, 76.70805, 47.15808, 51.3…\n$ sev2            <dbl> 55.57986, 17.90349, 8.25120, 46.10154, 12.25167, 19.91…\n```\n:::\n\n```{.r .cell-code}\n#para explorar melhor os dados\n\n#como visualizar a disposiição da incidência nas fazendas? qual artifício do R usar?\n#histograma: pega uma variável contínua e coloca em categorias.\ncr |> \n  ggplot(aes(x = inc))+\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## Sumarizar\n\nO comando `summary()` permite organizar os valores, observando desta forma os valores de média, mediana, dentre outros. Quando uma variável é quantitativa (*numeric*), o comando `summary()` retorna algumas estatísticas sobre o vetor de dados.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-3_dcc7b45a616828d1795e66b73ec72c2b'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = inc))+\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#usar o summary para observar os valores sobre a incidência, observar média, mínima, máxima, etc...\nsummary(cr$inc)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   9.50   19.43   32.50   34.89   48.20   86.71 \n```\n:::\n:::\n\n\n## Criando Box plot\n\nO \"Box plot\" é uma ferramenta gráfica utilizada para representar e ilustrar um conjunto de dados distribuídos em cinco diferentes medidas, que possiblitam diversos tipos de observações em uma única análise.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-4_01073c907a7af724b04da17ee6040ab8'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = farm, y = inc))+ \n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nO box plot permite selecionar apenas as variáveis desejadas para compor o gráfico, como exemplo, separaremos as duas regiões.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-5_fb14e8ecb57040a0ae1e1f26372423ad'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = inc))+\n  geom_boxplot()+\n  facet_wrap(~region)\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#comando usado para separar por regiões.\n\nsummary(cr$inc)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   9.50   19.43   32.50   34.89   48.20   86.71 \n```\n:::\n:::\n\n\nPara resumir os dados e mostrar algumas medidas, utilizaremos o comando \"summary()\".\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-6_4e136246b71157574c0bf97bcac903af'}\n\n```{.r .cell-code}\n#comando usado para sumarizar por região, separando por incidência média.\ncr |> group_by(region) |> \n  summarize(inc_mean = mean(inc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  region inc_mean\n  <chr>     <dbl>\n1 Oromia     37.0\n2 SNNPR      33.4\n```\n:::\n:::\n\n\nTambém é possível calcular as médias e medianas de cada conjunto selecionado (região), como feito a seguir:\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-7_c3912912152f7e18e351f62af457d40e'}\n\n```{.r .cell-code}\ncr |> group_by(region) |> \n  summarize(inc_mean = median(inc), sd_mean = sd(inc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 3\n  region inc_mean sd_mean\n  <chr>     <dbl>   <dbl>\n1 Oromia     39.5    14.6\n2 SNNPR      29.6    18.9\n```\n:::\n:::\n\n\nDa mesma forma, para outro conjunto (cultivar):\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-8_42d3c57f3cc3755fa9af946ae7539e81'}\n\n```{.r .cell-code}\ncr |> group_by(cultivar) |> \n  summarise(inc_mean = median(inc), \n            sd_mean = sd(inc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 3\n  cultivar inc_mean sd_mean\n  <chr>       <dbl>   <dbl>\n1 Improved     15.2    5.66\n2 Local        50.9   14.3 \n3 Mixture      31.6   11.2 \n```\n:::\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-9_461351e885b7a4a19941721ca3be4b5e'}\n\n```{.r .cell-code}\ncr |> \n  group_by(cultivar, region) |> \n  summarise(inc_med = median(inc),\n            inc_mean = mean(inc),\n            sd_mean = sd(inc))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 5\n# Groups:   cultivar [3]\n  cultivar region inc_med inc_mean sd_mean\n  <chr>    <chr>    <dbl>    <dbl>   <dbl>\n1 Improved Oromia    15.7     17.4    6.76\n2 Improved SNNPR     14.8     16.1    5.19\n3 Local    Oromia    49.6     52.0    8.08\n4 Local    SNNPR     54.8     54.5   17.6 \n5 Mixture  Oromia    34.4     33.8   10.4 \n6 Mixture  SNNPR     30.2     30.3   11.6 \n```\n:::\n:::\n\n\n### Relação entre incidência e severidade\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-10_be3eaec0e7ead8e183989e80451268b2'}\n\n```{.r .cell-code}\n#relação entre incidência e severidade,\n#Incidência ou severidade? será que existe correlação?\n#primeiro argumato = eixo X, segundo argumento = eixo Y.\n#Trabalhar com a severidade por ser mais importante, mais informativo.\n\ncr |>\n  ggplot(aes(inc, sev2, color = region))+\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\nsummary(cr)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      farm        region              zone             district        \n Min.   :  1   Length:405         Length:405         Length:405        \n 1st Qu.:102   Class :character   Class :character   Class :character  \n Median :203   Mode  :character   Mode  :character   Mode  :character  \n Mean   :203                                                           \n 3rd Qu.:304                                                           \n Max.   :405                                                           \n      lon             lat           altitude      cultivar        \n Min.   :35.19   Min.   :6.120   Min.   : 989   Length:405        \n 1st Qu.:35.53   1st Qu.:6.860   1st Qu.:1368   Class :character  \n Median :36.10   Median :7.279   Median :1632   Mode  :character  \n Mean   :36.81   Mean   :7.442   Mean   :1562                     \n 3rd Qu.:38.36   3rd Qu.:7.847   3rd Qu.:1756                     \n Max.   :40.20   Max.   :9.503   Max.   :1987                     \n    shade           cropping_system    farm_management         inc       \n Length:405         Length:405         Length:405         Min.   : 9.50  \n Class :character   Class :character   Class :character   1st Qu.:19.43  \n Mode  :character   Mode  :character   Mode  :character   Median :32.50  \n                                                          Mean   :34.89  \n                                                          3rd Qu.:48.20  \n                                                          Max.   :86.71  \n      sev2        \n Min.   : 0.2248  \n 1st Qu.: 2.6892  \n Median : 5.9490  \n Mean   : 9.0945  \n 3rd Qu.:12.1593  \n Max.   :55.5799  \n```\n:::\n:::\n\n\n### Histograma por região\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-11_f103b251f0c676bd8f82f94e7a826b6e'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = inc))+\n  geom_histogram()+\n  facet_wrap(~region)\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-12_13d006ec64c48bf6ea40dfa213cde561'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n### Adicionando escala de cores\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-13_6bd49a82f81e40bc67d898d58730dec2'}\n\n```{.r .cell-code}\nlibrary(ggthemes)\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)+\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n### Adicionar escala de cores manualmente\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-14_e5a5088f22146b7297dc5f2ae2af19fb'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)+\n  scale_fill_manual(values = c(\"red\",\"blue\"))\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n### Mudar posição da legenda\n\nA legenda de uma figura ou gráfico deve estar sempre bem localizada.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-15_03c5e5416bc11e4d30c42bcf3e93aa86'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)+\n  scale_fill_manual(values = c(\"red\",\"blue\"))+\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n### Alterando posição dos descritores da legenda\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-16_df1ad954a315cc27724f9c2d5cc70e9b'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)+\n  theme_minimal()+\n  theme(legend.position = \"bottom\")+\n  scale_fill_manual(values = c(\"red\",\"blue\"))+\n  labs(y = \"Frequency\",\n       x = \"Severity (%)\", fill = \"Region\")\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n### Tamanho da fonte (base_size)\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-17_ec30f23dfdb96e4f63f31ba59bda1183'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)+\n  theme_minimal(base_size = 14)+\n  theme(legend.position = \"bottom\")+\n  scale_fill_manual(values = c(\"red\",\"blue\"))+\n  labs(y = \"Frequency\",\n       x = \"Severity (%)\", fill = \"Region\")\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n### Salvando a imagem\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-18_3edc887c1a58da32aeba3da2c2f2346f'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram()+\n  facet_grid(region~cultivar)+\n  theme_minimal(base_size = 14)+\n  theme(legend.position = \"bottom\")+\n  scale_fill_manual(values = c(\"red\",\"blue\"))+\n  labs(y = \"Frequency\",\n       x = \"Severity (%)\", fill = \"Region\")\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggsave(\"Histograma.png\")\n```\n:::\n\n\n### Mudando o número de colunas\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-19_3b4f2547c821b8ce300b292c30106e10'}\n\n```{.r .cell-code}\ncr |> \n  ggplot(aes(x = sev2, fill = region))+\n  geom_histogram(color = \"white\")+\n  facet_wrap(region~cultivar, ncol = 6)+\n  theme_minimal(base_size = 14)+\n  theme(legend.position = \"bottom\")+\n  scale_fill_manual(values = c(\"red\",\"blue\"))+\n  labs(y = \"Frequency\",\n       x = \"Severity (%)\", fill = \"Region\")\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# ggsave(\"Imagens/Histograma03.png\")\n```\n:::\n\n\n### Criando subconjuntos\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-20_6e87d8622237d6fa6468db01d187bb92'}\n\n```{.r .cell-code}\n#criar um subconjunto através da seleção de variáveis\n\ncr |> \n  select(farm, region, sev2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 405 × 3\n    farm region  sev2\n   <dbl> <chr>  <dbl>\n 1     1 SNNPR  55.6 \n 2     2 SNNPR  17.9 \n 3     3 SNNPR   8.25\n 4     4 SNNPR  46.1 \n 5     5 SNNPR  12.3 \n 6     6 SNNPR  19.9 \n 7     7 SNNPR  11.9 \n 8     8 SNNPR  55.6 \n 9     9 SNNPR  11.6 \n10    10 SNNPR  11.4 \n# ℹ 395 more rows\n```\n:::\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-21_2f18c84804c6d90b38ebc852b7525ad4'}\n\n```{.r .cell-code}\n#restingindo o banco de cados à informação desejada.\ncr2 <- cr |> \n  select(farm, region, sev2) |> \n  filter (region == \"Oromia\")\ncr2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 165 × 3\n    farm region  sev2\n   <dbl> <chr>  <dbl>\n 1   286 Oromia  7.63\n 2   287 Oromia  9.39\n 3   288 Oromia  1.30\n 4   289 Oromia  9.79\n 5   290 Oromia 18.5 \n 6   291 Oromia 13.2 \n 7   292 Oromia  5.60\n 8   293 Oromia  1.06\n 9   294 Oromia 17.6 \n10   295 Oromia 15.4 \n# ℹ 155 more rows\n```\n:::\n:::\n\n\n#### Utiliza as funções 'select()\" e \"filter()\" do pacote **dplyr** para selecionar colunas e linhas, respectivamente.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-22_cdf60fa4a1a7958a493f2cf701ab42a1'}\n\n```{.r .cell-code}\n#Utiliza as funções 'select()\" e \"filter()\" dp pacote **dplyr** para selecionar colunas e linhas, respectivamente.\n\n# Filtra \"Oromia\"\ncr_oromia <- cr |> \n  select(farm, region, cultivar, sev2) |> \n  filter (region == \"Oromia\")\n\n# Filtra \"SNNPR\"\ncr_pr <- cr |>\n  select(farm, region, cultivar, sev2) |> \n  filter (region == \"SNNPR\")\n  \ncr_pr; cr_oromia\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 240 × 4\n    farm region cultivar  sev2\n   <dbl> <chr>  <chr>    <dbl>\n 1     1 SNNPR  Local    55.6 \n 2     2 SNNPR  Mixture  17.9 \n 3     3 SNNPR  Mixture   8.25\n 4     4 SNNPR  Local    46.1 \n 5     5 SNNPR  Local    12.3 \n 6     6 SNNPR  Mixture  19.9 \n 7     7 SNNPR  Mixture  11.9 \n 8     8 SNNPR  Local    55.6 \n 9     9 SNNPR  Local    11.6 \n10    10 SNNPR  Mixture  11.4 \n# ℹ 230 more rows\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 165 × 4\n    farm region cultivar  sev2\n   <dbl> <chr>  <chr>    <dbl>\n 1   286 Oromia Mixture   7.63\n 2   287 Oromia Mixture   9.39\n 3   288 Oromia Mixture   1.30\n 4   289 Oromia Mixture   9.79\n 5   290 Oromia Local    18.5 \n 6   291 Oromia Mixture  13.2 \n 7   292 Oromia Mixture   5.60\n 8   293 Oromia Mixture   1.06\n 9   294 Oromia Local    17.6 \n10   295 Oromia Mixture  15.4 \n# ℹ 155 more rows\n```\n:::\n:::\n\n\n## Criando gráficos\n\nVIzualiar os subconjuntos e criando gráficos a partir do ggplot para cada subconjunto.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-23_c024ffde85c2bea213236ab5575dd660'}\n\n```{.r .cell-code}\np1 <- cr_oromia |> \n  ggplot(aes(x = cultivar, y = sev2 ))+\n  geom_boxplot()+\n  labs(title = \"Oromia\",\n  y= \"Severity (%)\", x = \"Cultivar\")\n\np1\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-24_0d9be005638611a458ba16df36d2c13f'}\n\n```{.r .cell-code}\np2 <- cr_pr |> \n  ggplot(aes(x = cultivar, y = sev2 ))+\n  geom_boxplot()+\n  labs(title = \"SNNPR\", y= \"Severity (%)\", x = \"Cultivar\")\n\np2\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n#### Criando um gráfico ao lado do outro.\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-25_5326d7985a9d47ad5cc36fbbd99003a4'}\n\n```{.r .cell-code}\nlibrary(patchwork)\np1 <- cr_oromia |> \n  ggplot(aes(x = cultivar, y = sev2, fill = cultivar ))+\n  geom_boxplot()+\n  scale_fill_few()+\n  theme_few()+\n  theme(legend.title = element_blank())+\n  labs( y= \"Severity (%)\", x = \"\")+\n  coord_flip()\np1\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n\n```{.r .cell-code}\np2 <- cr_pr |> \n  ggplot(aes(x = cultivar, y = sev2, fill = cultivar ))+\n  geom_boxplot()+\n  scale_fill_few()+\n  theme_few()+\n   theme(legend.title = element_blank())+\n  labs(y= \"Severity (%)\", x = \"\")+\n  coord_flip()\n\np2 \n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-25-2.png){width=672}\n:::\n\n```{.r .cell-code}\n#Para juntar os dois gráficos\n\np1/p2\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-25-3.png){width=672}\n:::\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-26_d251469d7342ea84683d6a39b3deaf6b'}\n\n```{.r .cell-code}\np1 / (p2 + p1)\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n\n#### Colocar só uma legenda\n\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-27_70af65a9e2ea564b7c41e359a2c4137e'}\n\n```{.r .cell-code}\nhelp(\"patchwork\")\n\n(p1 | p2) + \n  plot_layout(guides = 'collect')+\n  plot_annotation(tag_levels = 'A')\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#para remover o \"Oromia\" e \"SNNPR\" do título, basta remover o comando na atribuição anterior.\n```\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-28_267686d7487e886730f14c11544b796b'}\n\n```{.r .cell-code}\np1 / p2\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n\n```{.r .cell-code}\n(p1 / p2) + \n  plot_layout(guides = 'collect',\n              axes = 'collect')+\n  plot_annotation(tag_levels = 'A',\n                  title = \"Coffe rust in Ethiopia\", caption = \"Source: Del Ponte (2022.\")\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-28-2.png){width=672}\n:::\n\n```{.r .cell-code}\n# ggsave(\"Imagens/Patch2.png\", width = 5, height = 4)\n```\n:::\n\n::: {.cell hash='aula_03_cache/html/unnamed-chunk-29_9c310399911eb3a6fa02bd63d9c48506'}\n\n```{.r .cell-code}\np3 <-  cr_oromia |> \n  ggplot(aes(x = sev2))+\n  geom_histogram()+\n  theme_minimal()\n\np1 + inset_element(p3, left = 0.6, bottom = 0.6, right = 1, top = 1)\n```\n\n::: {.cell-output-display}\n![](aula_03_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# ggsave(\"Imagens/plot2.png\")\n\np4 <- p1 + inset_element(p3, left = 0.6, bottom = 0.6, right = 1, top = 1)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}